@import 'svg';

* {
    /* clear default margins and paddings*/
    margin: 0; padding: 0;

    /* remove highlight color when tapping on a link */
    -webkit-tap-highlight-color: transparent;

    /* disable text magnifier pop-up on click and hold (iPhone) */
    -webkit-touch-callout: none; 
    -webkit-user-select: none;

    /* disable outline when tabbing through UI elements */
    outline: none;
}

ul {
    /* disable bullets in lists */
    list-style: none;
}

li {
    /* avoid vertical space between cells when cells are small */
//    font-size: 1px;
}

html, body { 
    height: 100%;

    /* disable chrome browser pull-down-to-refresh */
    //overflow-y: hidden;

    background-color: #222;
}

.game {
    padding: 20px;
    overflow: hidden;

    .board {
        background-color: #333;
        width: 100%;
        height: auto;
        overflow: visible;
        position: relative;
    }
}

.deck {
    width: 100%;
    text-align: right;
}

.cards li, .deck li {
    display: inline-block;
    vertical-align: top;

    width: percentage(1/7);
    height: 0;
    padding-bottom: percentage(2/7);

    border-radius: 10px;
    position: relative;
    box-sizing: border-box;

    transition: border-color 0.3s linear, background-color 0.3s linear;

    span {
        display: block;
        width: 100%;
        height: auto;
        text-align: center;
        position: absolute;
        top: 50%;
        left: 0;
        transform: translate3d(0, -50%, 0);
        font-size: 20px;
        font-family: sans-serif;
    }
}

// card suit colors
.spades, .clubs {
    color: black;
}

.hearts, .diamonds {
    color: red;
}

// card selection status
.nah {
    border: 5px solid #333;
    background-color: #ccc;
}
.sel {
    border: 5px solid #00cc00;
    background-color: #ccc;
}
.opt {
    border: 5px solid #006600;
    background-color: #00cc00;
}

// card backside
.deck li.back {
    background-color: green;
    color: white;
    border: 1px solid black;
    $svg:(
        '<g stroke="black" stroke-width="1" fil="none">'
        '<path d="M0,50 l50,-50" />'
        '<path d="M0,100 l100,-100" />'
        '<path d="M50,100 l50,-50" />'
        '<path d="M0,50 l50,50" />'
        '<path d="M50,0 l50,50" />'
        '</g>'
    );
    @include svg($svg, 0, 0, 100, 100);
    background-size: 20px 20px;
    background-repeat: repeat;
}

// cards flowing in a snake pattern downwards
.cards {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    grid-template-rows: auto;
//    grid-column-gap: 3px;

    li {
        width: 100%;
        height: 0;
        padding-bottom: 200%;
        &:nth-child(14n+8) {
            grid-column-start: 7;
        }
        &:nth-child(14n+9) {
            grid-column-start: 6;
        }
        &:nth-child(14n+10) {
            grid-column-start: 5;
        }
        &:nth-child(14n+11) {
            grid-column-start: 4;
        }
        &:nth-child(14n+12) {
            grid-column-start: 3;
        }
        &:nth-child(14n+13) {
            grid-column-start: 2;
        }
        &:nth-child(14n+14) {
            grid-column-start: 1;
        }
        &:nth-child(n+8):nth-child(-n+14) {
            grid-row-start: 2;
        }
        &:nth-child(n+22):nth-child(-n+28) {
            grid-row-start: 4;
        }
        &:nth-child(n+36):nth-child(-n+42) {
            grid-row-start: 6;
        }
        &:nth-child(n+50):nth-child(-n+52) {
            grid-row-start: 8;
        }
    }
}

// arrows
.arrow {
    width: 100%;
    height: 0;

    li {
        display: block;
        width: calc(100%/7);
        height: 0;
        padding-bottom: calc(200%/7 + 10px);

        position: absolute;
        top: 0;

        $svg: (
            '<g fill="none" stroke="#ddd" stroke-width="2">'
            '<path d="M3,2 C 12,30 12,70 3,98"/>'
            '<path d="M3,2 l -2,10 m2,-10 l 7,7" />'
            '<path d="M3,98 l -2,-10 m2,10 l 7,-7" />'
            '</g>'
        );
        @include svg($svg, 0, 0, 10, 100);
        background-size: 15px 100%;

        &:nth-child(2n+1) {
            left: 100%;
        }
        &:nth-child(2n+2) {
            right: 100%;
        }

        &:nth-child(1) {
            transform: translate(0, 50%);
        }
        &:nth-child(2) {
            transform: rotateY(180deg) translate(0, 150%);
        }
        &:nth-child(3) {
            transform: translate(0, 250%);
        }
        &:nth-child(4) {
            transform: rotateY(180deg) translate(0, 350%);
        }
        &:nth-child(5) {
            transform: translate(0, 450%);
        }
        &:nth-child(6) {
            transform: rotateY(180deg) translate(0, 550%);
        }
        &:nth-child(7) {
            transform: translate(0, 650%);
        }

    }
}